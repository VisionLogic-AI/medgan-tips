# A few additional tips on how to run Edward Choi's `medgan`

Here is the link to Edward Choi's `medgan` on GitHub: https://github.com/mp2893/medgan. Congrats to his excellent work.

In this markdown, I add a few very basic details to run `medgan`. My specs: Windows 10. I would like to thank [@ZwAnto](https://github.com/ZwAnto) for his advice. The goal here is just to run it, not obtain useful results (we try to minimize the computing time).

### 1) Process the MIMIC-III dataset with `process_mimic.py`.

First, we need to open the _Anaconda Navigator_, the go to _Environments_, click on the right triangle next to _base (root)_ and _Open Terminal_: this opens a command prompt with the following path: `(base) C:\Users\myusername>`.

In the command prompt, we change the directory (folder where out data and python codes are saved):
```
cd C:\Users\myusername\Documents\medgan-master
```
Still in the command prompt, we can then process the MIMIC III dataset:
```
python process_mimic.py ADMISSIONS.csv DIAGNOSES_ICD.csv test1 "binary"
```
This will create 3 files in our folder: `test1.matrix`, `test1.pids` and `test1.types`.

### 2) Run `medgan.py` using the `test1.matrix` file generated by `process_mimic.py`.

With the command `python medgan.py --help`, we can see all the parameters we can choose. Please read the NumPy version issue I added on Edward Choi's GitHub: https://github.com/mp2893/medgan/issues/14.

In our `medgan-master` folder, we create a `train` folder. Then we use the command:
```
python medgan.py test1.matrix ./train/test --data_type="binary" --n_epoch=10 --n_pretrain_epoch=10
```
This will create 32 files in our `train` folder: `checkpoint`, `test`, `test-0.data-00000-of-00001`, `test-0.index` etc.

### 3) Generate synthetic records.

We use the command:
```
python medgan.py test1.matrix <generated output path> --model_file=<trained output path> --generate_data=True
```
